(this["webpackJsonpreact_movies-list-fetch-movies"]=this["webpackJsonpreact_movies-list-fetch-movies"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(34)},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(1),l=a(6),i=a.n(l),s=(a(26),a(3)),o=(a(27),a(28),a(29),function(e){var t=e.Title,a=e.Poster;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image"},c.a.createElement("figure",{className:"image is-4by3"},c.a.createElement("img",{src:a,alt:"Film logo"}))),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"media"},c.a.createElement("div",{className:"media-left"},c.a.createElement("figure",{className:"image is-48x48"},c.a.createElement("img",{src:"images/imdb-logo.jpeg",alt:"imdb"}))),c.a.createElement("div",{className:"media-content"},c.a.createElement("p",{className:"title is-8"},t)))))}),u="https://www.omdbapi.com/?apikey=65c1586c&",m=function(e){var t=e.movies,a=void 0===t?[]:t,n=e.setSelectedMovie,r=e.setPreview,l=function(e){n(e),function(e){return fetch("".concat(u,"i=").concat(e)).then((function(e){return e.json()}))}(e).then((function(e){return r(e)}))};return c.a.createElement("div",{className:"movies"},a.map((function(e){return c.a.createElement("div",{role:"presentation",onClick:function(){return l(e.imdbID)}},c.a.createElement(o,Object.assign({key:e.imdbId},e)))})))};m.defaultProps={setSelectedMovie:null,setPreview:null};a(30);var E=a(14),d=a(2),b=a(4),f=a(13),g={movies:[],page:1,query:"",searchResults:0,history:[]},v=function(e){return e.movies},p=function(e){return e.page},h=function(e){return e.query},O=function(e){return e.searchResults},j=function(e){return e.history},N=function(e){return{type:"SET_MOVIES",movies:e}},y=function(e){return{type:"SELECT_PAGE",page:e}},S=function(e){return{type:"SET_QUERY",query:e}},R=function(e){return{type:"SET_HISTORY",query:e}},_=function(e){return{type:"SET_SEARCH_RESULTS",searchResults:e}},P=Object(b.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIES":return Object(d.a)(Object(d.a)({},e),{},{movies:t.movies});case"SELECT_PAGE":return Object(d.a)(Object(d.a)({},e),{},{page:t.page});case"SET_QUERY":return Object(d.a)(Object(d.a)({},e),{},{query:t.query});case"SET_HISTORY":return Object(d.a)(Object(d.a)({},e),{},{history:[].concat(Object(E.a)(e.history),[t.query])});case"SET_SEARCH_RESULTS":return Object(d.a)(Object(d.a)({},e),{},{searchResults:t.searchResults});default:return e}}),Object(b.a)(f.a)),T=(a(31),function(){var e=Object(r.b)(),t=Object(r.c)(j);return c.a.createElement("ul",{className:"history__list"},t.map((function(t){return c.a.createElement("li",{className:"history__item",role:"presentation",key:t,onClick:function(){return e(S(t))}},t)})))}),w=function(e){var t=e.loadMovies,a=Object(n.useState)(!0),l=Object(s.a)(a,2),i=l[0],o=l[1],u=Object(n.useState)(!1),m=Object(s.a)(u,2),E=m[0],d=m[1],b=Object(r.b)(),f=Object(r.c)(h);Object(n.useEffect)((function(){t()}),[f]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"find-movie",onSubmit:function(e){e.preventDefault(),t(),b(R(f))}},c.a.createElement("div",{className:"field"},c.a.createElement("label",{className:"label",htmlFor:"movie-title"},"Movie title"),c.a.createElement("div",{className:"control search-input"},c.a.createElement("input",{type:"text",id:"movie-title",placeholder:"Enter a title to search",className:i?"input":"input is-danger",value:f,onChange:function(e){b(S(e.target.value)),o(!0)}})),c.a.createElement("button",{className:"button is-light",type:"button",onClick:function(){return d(!E)}},E?"Hide ":"Show ","search history"),E&&c.a.createElement(T,null),!i&&c.a.createElement("p",{className:"help is-danger"},"Can't find a movie with such a title")),c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("div",{className:"control"},c.a.createElement("button",{type:"submit",className:"button is-light"},"Search")))))},C=(a(32),function(e){var t=e.Title,a=e.Poster,n=e.Actors,r=e.Awards,l=e.Country,i=e.Director,s=e.Genre,o=e.Language,u=e.Plot,m=e.Production,E=e.Released,d=e.Runtime,b=e.Writer,f=e.imdbRating,g=e.imdbVotes;return t&&a&&u?c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image"},c.a.createElement("figure",{className:"image is-4by3"},c.a.createElement("img",{src:a,alt:"Film logo"}))),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"media"},c.a.createElement("div",{className:"media-left"},c.a.createElement("figure",{className:"image is-48x48"},c.a.createElement("img",{src:"images/imdb-logo.jpeg",alt:"imdb"}))),c.a.createElement("div",{className:"media-content"},c.a.createElement("p",{className:"title is-8"},t))),c.a.createElement("div",{className:"content"},c.a.createElement("p",null,c.a.createElement("strong",null,"Actors: "),n),c.a.createElement("p",null,c.a.createElement("strong",null,"Awards: "),r),c.a.createElement("p",null,c.a.createElement("strong",null,"Country: "),l," ",c.a.createElement("strong",null,"Language: "),o),c.a.createElement("p",null,c.a.createElement("strong",null,"Director: "),i," ",c.a.createElement("strong",null,"Writer: "),b),c.a.createElement("p",null,c.a.createElement("strong",null,"Genre: "),s),c.a.createElement("p",null,c.a.createElement("strong",null,"Production: "),m),c.a.createElement("p",null,c.a.createElement("strong",null,"Runtime: "),d),c.a.createElement("p",null,c.a.createElement("strong",null,"Released: "),E),c.a.createElement("p",null,c.a.createElement("strong",null,"imdbRating: "),f," ",c.a.createElement("strong",null,"imdbVotes: "),g),c.a.createElement("p",null,c.a.createElement("strong",null,"Description: "),u)))):c.a.createElement("p",null,"Loading...")});C.defaultProps={Poster:"",Actors:"",Awards:"",Country:"",Director:"",Genre:"",Language:"",Plot:"",Production:"",Released:"",Runtime:"",Writer:"",imdbRating:"",imdbVotes:""};a(33);var k=function(){var e=Object(r.b)(),t=Object(r.c)(p),a=Object(r.c)(O),n=Math.ceil(a/10),l=function(t){e(y(t))};return!a||c.a.createElement("div",{className:"pagination"},c.a.createElement("button",{className:"button is-light",type:"button",onClick:function(){return l(t-1)},disabled:1===t},"<"),c.a.createElement("span",null," ".concat(t," / ").concat(n," ")),c.a.createElement("button",{className:"button is-light",type:"button",onClick:function(){return l(t+1)},disabled:t===n||a<10},">"))},q=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(null),o=Object(s.a)(i,2),E=o[0],d=o[1],b=Object(r.b)(),f=Object(r.c)(v),g=Object(r.c)(p),j=Object(r.c)(h),R=Object(r.c)(O),P=function(){(function(e,t){return fetch("".concat(u,"s=").concat(e,"&page=").concat(t)).then((function(e){return e.json()}))})(j,g).then((function(e){b(N(e.Search)),b(_(e.totalResults))}))};return Object(n.useEffect)((function(){localStorage.getItem("saved_query")&&b(S(JSON.parse(localStorage.getItem("saved_query"))))}),[]),Object(n.useEffect)((function(){localStorage.setItem("saved_query",JSON.stringify(j))}),[j]),Object(n.useEffect)((function(){P(),b(y(g))}),[g]),c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"page-content"},c.a.createElement(m,{movies:f,setSelectedMovie:l,setPreview:d})),c.a.createElement("div",{className:"sidebar"},c.a.createElement(w,{movies:f,loadMovies:P,searchResults:R,titleQuery:j}),!a||c.a.createElement("div",{className:"container"},c.a.createElement("h2",{className:"title"},"Preview"),c.a.createElement(C,E))),c.a.createElement(k,{total:R,titleQuery:j,loadMovies:P}))};i.a.render(c.a.createElement(r.a,{store:P},c.a.createElement(q,null)),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.c82d4469.chunk.js.map